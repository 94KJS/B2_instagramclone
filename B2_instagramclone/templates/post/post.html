<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Material+Icons|Material+Icons+Outlined|Material+Icons+Two+Tone|Material+Icons+Round|Material+Icons+Sharp"
            rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>

    <title>게시글 목록</title>

    <style>
        span {
            padding-right: 5px;
        }

        .navi_profile_box {
            width: 30px;
            height: 30px;
            border-radius: 70%;
            overflow: hidden;
            cursor: pointer;
        }

        .profile_img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .navi_icons {
            padding-right: 18px;
            font-size: 28px;
            cursor: pointer;
        }

        .all_post {
            border: 1px solid lightgray;
            border-radius: 3px;
            background-color: white;
            color: black;
            width: 1100px;
            margin: auto auto 1rem auto;
            padding: 60px 20px 20px 20px;
            /* box-shadow: 0px 0px 3px 0px white; */
        }

        .postbox {
            /* border: 1px solid blue; */
            background-color: white;
            width: 100%;
            text-align: left;
        }
    </style>
</head>

<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white border-bottom"
     style="width: 100%;height: 50px;position: fixed;z-index: 9999">
    <div class="container" style="min-width: 800px">
        <img class="go_home" style="height: 30px; object-fit: contain;cursor: pointer"
             src="https://www.instagram.com/static/images/web/mobile_nav_type_logo-2x.png/1b47f9d0e595.png">
        <input class="form-control" style="width: 200px" type="search" placeholder="Search" aria-label="Search">
        <div style="display: flex; flex-direction: row; align-items: center; ">
            <span onclick="location.href=''" class="material-icons navi_icons go_home" title="홈페이지">home</span>
            <span onclick="location.href='/write'" id="add_feed" class="material-icons-outlined navi_icons" title="글쓰기">add_box</span>
            <span onclick="location.href='/myprofile'" class="material-icons navi_icons person" title="내 프로필">person</span>
            <span onclick="location.href='/logout'" class="material-icons navi_icons logout" title="로그아웃">logout</span>
            <span>{{ user.user_nick_name }}님 환영합니다!</span>
        </div>
    </div>
</nav>
{#게시물 표시 부분#}
<div class="all_post">
    <div class="row">
        {% for post in posts %}
            <div class="postbox">
                {#게시물 작성자#}
                <div style="color: black">{{ post.author.user_nick_name }}</div>
                {# 게시물 카드 #}
                <div class="card mb-3" style="max-width: 1080px; padding: 20px">
                    <div class="row g-0">
                        <div class="col-md-4">
                            <img src="..." class="img-fluid rounded-start" alt="...">
                        </div>
                        <div class="col-md-8">
                            <div class="card-body">
                                <h4 class="card-text">{{ post.content }}</h4>
                                <p class="card-text" ><small
                                        class="text-muted">{{ post.created_at|timesince }}전</small></p>
                                <div style="float: right">
                                    <a href="/post/{{ post.id }}" class="btn btn-primary">상세보기</a>
                                </div>
                                {% if post.author.user_nick_name == user.user_nick_name %}
                                <div style="float: right">
                                    <a href="/post/delete/{{ post.id }}" class="btn btn-danger">삭제하기</a>
                                </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
</div>

</body>
</html>